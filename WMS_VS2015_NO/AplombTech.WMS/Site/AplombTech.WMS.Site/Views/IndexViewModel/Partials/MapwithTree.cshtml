@using AplombTech.WMS.Site.ViewModels
@model IndexViewModel

<div id="body">

    <div id="map">

    </div>

    <div id="legend" style="overflow-y:scroll;">
        @foreach (var zone in Model.MyZone)
        {
            <ul>
                <li id="zone_@zone.AreaID" data-jstree='{"icon":"../../Content/Image/zone.png"}'>
                    @zone.Name
                    <ul>
                        @foreach (var dma in zone.DMAs)
                        {
                            <li id="dma_@dma.AreaID" data-jstree='{"icon":"../../Content/Image/dma.png"}'>
                                @dma.Name
                                <ul>
                                    @foreach (var pumpStation in dma.PumpStations)
                                    {
                                        <li id="pump_@pumpStation.AreaID" data-jstree='{"icon":"../../Content/Image/pump.png"}'>
                                            @pumpStation.Name
                                            @*<ul>
                                                    @foreach (var device in pumpStation.WaterLevelSensorList)
                                                    {
                                                        <li id="device_@device.Id" data-jstree='{"icon":"../../Content/Image/sensor.png"}'>
                                                            @device.Name (FT)
                                                        </li>
                                                    }
                                                    @foreach (var device in pumpStation.PressureSensorList)
                                                    {
                                                        <li id="device_@device.Id" data-jstree='{"icon":"../../Content/Image/sensor.png"}'>
                                                            @device.Name (PT)
                                                        </li>
                                                    }
                                                    @foreach (var device in pumpStation.ProductionSensorList)
                                                    {
                                                        <li id="device_@device.Id" data-jstree='{"icon":"../../Content/Image/sensor.png"}'>
                                                            @device.Name (LT)
                                                        </li>
                                                    }
                                                    @foreach (var device in pumpStation.EnergySensorList)
                                                    {
                                                        <li id="device_@device.Id" data-jstree='{"icon":"../../Content/Image/sensor.png"}'>
                                                            @device.Name (EM)
                                                        </li>
                                                    }
                                                    @foreach (var device in pumpStation.CholorinationSensorList)
                                                    {
                                                        <li id="device_@device.Id" data-jstree='{"icon":"../../Content/Image/sensor.png"}'>
                                                            @device.Name (CLT)
                                                        </li>
                                                    }
                                                </ul>*@

                                        </li>

                                    }
                                </ul>

                            </li>
                        }
                    </ul>
                </li>
            </ul>
        }

    </div>
</div>

@section scripts
{
    <script src="~/Scripts/dist/jstree.min.js"></script>
    <script src="https://www.google.com/jsapi?.js"></script>
    <script src="~/Scripts/Map.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBTHzA3hwLR5NPQ9Gubaa6EV8hQNMhVuRM&callback=initMap"
            async defer></script>

    <script>

    </script>
}


