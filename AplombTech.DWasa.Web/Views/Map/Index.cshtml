@model List<AplombTech.DWasa.Entity.ZoneEntity>

@{
    ViewBag.Title = "Map";
}

<h2>Map</h2>

<link href="~/Content/themes/default/style.css" rel="stylesheet" />

<div id="map">

</div>

<div id="legend">
   
        
        @foreach (var zone in Model)
        {
            <ul>
                <li id="zone_@zone.Id" data-jstree='{"icon":"../../Content/Image/zone.png"}'>
                    @zone.Name
                    <ul>
                        @foreach (var dma in zone.DMAList)
                        {
                            <li  id="dma_@dma.Id" data-jstree='{"icon":"../../Content/Image/dma.png"}'>
                                @dma.Name
                                <ul>
                                    @foreach (var pumpStation in dma.PumpStationList)
                                    {
                                        <li  id="pump_@pumpStation.Id" data-jstree='{"icon":"../../Content/Image/pump.png"}'>
                                            @pumpStation.Name
                                            <ul>
                                                @foreach (var device in pumpStation.WaterLevelSensorList)
                                                {
                                                    <li  id="device_@device.Id" data-jstree='{"icon":"../../Content/Image/sensor.png"}'>
                                                        @device.Name (FT)
                                                    </li>
                                                }
                                                @foreach (var device in pumpStation.PressureSensorList)
                                                {
                                                    <li id="device_@device.Id" data-jstree='{"icon":"../../Content/Image/sensor.png"}'>
                                                        @device.Name (PT)
                                                    </li>
                                                }
                                                @foreach (var device in pumpStation.ProductionSensorList)
                                                {
                                                    <li id="device_@device.Id" data-jstree='{"icon":"../../Content/Image/sensor.png"}'>
                                                        @device.Name (LT)
                                                    </li>
                                                }
                                                @foreach (var device in pumpStation.EnergySensorList)
                                                {
                                                    <li id="device_@device.Id" data-jstree='{"icon":"../../Content/Image/sensor.png"}'>
                                                        @device.Name (EM)
                                                    </li>
                                                }
                                                @foreach (var device in pumpStation.CholorinationSensorList)
                                                {
                                                    <li id="device_@device.Id" data-jstree='{"icon":"../../Content/Image/sensor.png"}'>
                                                        @device.Name (CLT)
                                                    </li>
                                                }
                                            </ul>

                                        </li>

                                    }
                                </ul>

                            </li>
                        }
                    </ul>
                </li>
            </ul>
        }
       
</div>

@section scripts
{
    <script src="~/Scripts/dist/jstree.min.js"></script>
    <script src="https://www.google.com/jsapi?.js"></script>
    <script src="~/Scripts/Map.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBTHzA3hwLR5NPQ9Gubaa6EV8hQNMhVuRM&callback=initMap"
            async defer></script>

    <script>
        
    </script>
}
